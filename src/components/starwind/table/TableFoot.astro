---
// TableFoot.astro
// -----------------
// Small wrapper for a table's `<tfoot>` section with Tailwind Variants styling and strong TypeScript typings. This 
// file is intentionally minimal; it validates incoming props at compile-time and forwards unknown props to the
// rendered DOM element so callers can provide `id`, `aria-*`, event handlers, etc.

import type { HTMLAttributes } from "astro/types";
import { type VariantProps } from "tailwind-variants";
import { tableFootSection } from "./table-variants";

// Props contract:
// - Accept any normal <tfoot> HTML attributes (id, role, aria-*, class, ...)
// - Accept variant props defined by `tableFootSection` (e.g., `muted`)
type Props = HTMLAttributes<"tfoot"> & VariantProps<typeof tableFootSection>;

// Create a strongly-typed view of incoming props and then destructure the values we need. Using
// `Astro.props satisfies Props` gives compile-time type checking but does not change runtime shape. This helps
// consumers catch mistakes in their usage during development.
const props = Astro.props satisfies Props;

// `class` is a reserved attribute name in templates; map it to `className` so we can pass it through into the tv
// helper which expects a `class` key in its options object. `muted` is a variant prop used by the tv helper;
// everything else is collected in `rest` and forwarded to the DOM.
const { class: className, muted, ...rest } = props;

// Re-export the Props type so other components/tests can import it if needed.
export type { Props as TableFootProps };
---

<tfoot
    data-table-foot class={tableFootSection({ class: className, muted })}
    {...rest}
>
    <slot />
</tfoot>
