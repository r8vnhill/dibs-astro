---
/**
 * Table.astro â€“ Starwind Table component
 * ---------------------------------------
 * A responsive, accessible table container with Tailwind-based styling.
 */

import type { HTMLAttributes } from "astro/types";
import { tv, type VariantProps } from "tailwind-variants";

/**
 * Props supported by the table component.
 * Includes native table attributes and variant styling.
 */
type Props = HTMLAttributes<"table"> & VariantProps<typeof table>;

/**
 * Tailwind Variants config for the table.
 */
const table = tv({
  base: [
    "w-full caption-bottom text-sm border-collapse",
    "border border-border",
    "[&_th]:text-left [&_th]:font-semibold [&_th]:text-muted-foreground", // Scope header styling
    "[&_td]:p-2 [&_th]:p-2", // Padding for all cells
  ],
  variants: {
    striped: {
      true: "[&_tbody_tr:nth-child(even)]:bg-muted/50",
    },
  },
});

const { class: className, striped, ...rest } = Astro.props;
---

<!--
  Responsive wrapper with horizontal scroll when content overflows.
-->
<div data-table-container class="relative w-full overflow-x-auto my-4">
  <table
    data-table
    class={table({ class: className, striped })}
    role="table"
    {...rest}
  >
    <slot />
  </table>
</div>
