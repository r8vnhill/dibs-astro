---
/**
 * TableCell.astro â€“ Starwind table cell
 * -------------------------------------
 * Renders a table data cell (`<td>`) with support for padding, alignment, and contextual variants.
 * Also supports embedded checkboxes.
 */

import type { HTMLAttributes } from "astro/types";
import { tv, type VariantProps } from "tailwind-variants";

/**
 * Component props, extending <td> plus style variants.
 */
type Props = HTMLAttributes<"td"> &
  VariantProps<typeof tableCell>;

/**
 * Tailwind Variants for table cells.
 */
const tableCell = tv({
  base: [
    "p-2 align-middle whitespace-nowrap",
    "[&:has([role=checkbox])]:pr-0",
    "[&>[role=checkbox]]:translate-y-[2px]",
  ],
  variants: {
    align: {
      left: "text-left",
      center: "text-center",
      right: "text-right",
    },
    intent: {
      default: "",
      muted: "text-muted-foreground",
      highlight: "bg-yellow-50",
    },
    size: {
      sm: "text-sm",
      md: "text-base",
      lg: "text-lg",
    },
  },
  defaultVariants: {
    align: "left",
    intent: "default",
    size: "md",
  },
});

const { class: className, align, intent, size, ...rest } = Astro.props;
---

<td
  data-table-cell
  class={tableCell({ class: className, align, intent, size })}
  {...rest}
>
  <slot />
</td>
