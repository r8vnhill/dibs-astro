---
/**
 * LightCode.astro
 * ---------------
 * Renders a Shiki-highlighted code block using the *catppuccin-latte* theme (for light mode).
 *
 * This component is visible only in light mode (`dark:hidden`).
 * Used internally by the `CodeLayout` wrapper to provide a light mode variant.
 *
 * Props:
 * - `code`: The raw code string to highlight.
 * - `lang`: The language to use for syntax highlighting (must match one in `availableLanguages`).
 * - `codeClasses`: Optional Tailwind classes to further style the `<Code>` component.
 */

import { Code } from "astro:components";
import { availableLanguages } from "~/lib/shiki/highlighter";
import { transformerColorizedBrackets } from '@shikijs/colorized-brackets'

// Component props definition
type Props = {
  code: string;
  lang: (typeof availableLanguages)[number];
  codeClasses?: string;
};

// Destructure and default props
const { code, lang, codeClasses } = Astro.props;
---

<!-- Render the code block for light mode using the catppuccin-latte theme -->
<Code
  code={code}
  theme="catppuccin-latte"
  lang={lang}
  class:list={[
    "dark:hidden", // Only show in light mode
    "transition-colors", // Smooth color theme transitions
    "duration-200", // Duration for transitions
    "p-4", // Padding inside the code area
    "text-sm", // Font size
    "font-mono", // Monospaced font
    codeClasses, // Allow overrides from parent component
  ]}
  transformers={[transformerColorizedBrackets()]}
  role="code"
  wrap
/>
