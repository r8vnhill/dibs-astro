---
import {
  Tabs,
  TabsContent,
  TabsList,
  TabsTrigger,
} from "~/components/starwind/tabs";
import { Explanation } from "../callouts";
import ToDo from "~/components/utils/ToDo";
import PowerShellBlock from "./ps1/PowerShellBlock.astro";
import { BashScript } from ".";

type Props = {
  powerShellCode: string;
  bashCode: string;
  className?: string;
};

const { powerShellCode, bashCode, className }: Props = Astro.props;
---

<Tabs defaultValue="powershell" syncKey="terminal-choice" class={className}>
  <TabsList>
    <TabsTrigger value="powershell">PowerShell</TabsTrigger>
    <TabsTrigger value="bash">Bash/Zsh</TabsTrigger>
  </TabsList>

  <TabsContent value="powershell">
    <PowerShellBlock code={powerShellCode}>
      <slot name="powershell-title" slot="title">
        Desde PowerShell
      </slot>
      <slot name="powershell-source" slot="source" />
    </PowerShellBlock>

    <Explanation>
      <slot name="powershell-explanation">
        <ToDo
          client:only="react"
          metadata={{
            tasks: ["Explicar cada comando"],
          }}
        />
      </slot>
    </Explanation>
  </TabsContent>

  <TabsContent value="bash">
    <BashScript code={bashCode}>
      <slot name="bash-title" slot="title">Desde Bash/Zsh</slot>
      <slot name="bash-source" slot="source" />
    </BashScript>

    <Explanation>
      <slot name="bash-explanation">
        <ToDo
          client:only="react"
          metadata={{
            tasks: ["Explicar cada comando"],
          }}
        />
      </slot>
    </Explanation>
  </TabsContent>
</Tabs>
